{"version":3,"file":"index.js","sources":["../src/build-country.js","../src/index.js"],"sourcesContent":["function buildCountry(obj) {\n  if (!obj) return null;\n\n  return {\n    id: get(obj, 'i2'),\n    name: get(obj, 'n'),\n    officialName: get(obj, 'on'),\n    emoji: get(obj, 'e'),\n    emojiUnicode: get(obj, 'eu'),\n    iso2: get(obj, 'i2'),\n    iso3: get(obj, 'i3'),\n    isoNumeric: get(obj, 'in'),\n    geonameId: get(obj, 'gi'),\n    continentId: get(obj, 'ci'),\n    population: get(obj, 'p'),\n    elevation: get(obj, 'l'),\n    areaSqKm: get(obj, 'a'),\n    coordinates: {\n      latitude: get(obj.c, 'a'),\n      longitude: get(obj.c, 'o')\n    },\n    timezones: get(obj, 't', []),\n    domain: get(obj, 'd'),\n    currencyCode: get(obj, 'cc'),\n    currencyName: get(obj, 'cn'),\n    postalCodeFormat: get(obj, 'pf'),\n    postalCodeRegex: get(obj, 'pr'),\n    phoneCode: get(obj, 'pc'),\n    neighborCountryIds: get(obj, 'ni', []),\n    languages: get(obj, 'lg', []),\n    locales: get(obj, 'lc', []),\n  };\n}\n\nfunction get(obj, property, def = null) {\n  return (obj || {})[property] || def;\n}\n\nmodule.exports = buildCountry;\n","const data = require('./data.json');\nconst buildCountry = require('./build-country');\nconst totalCountries = Object.keys(data).length;\nlet countries;\nlet memoizedCountries = 0;\n\nfunction getAllCountries() {\n  if (totalCountries !== memoizedCountries) Object.keys(data).forEach(getCountry);\n  return { ...countries };\n}\n\nfunction getCountry(id, property) {\n  if (!countries) initCache();\n  if (!countries[id]) memoizeCountry(buildCountry(data[id]));\n  const country = countries[id] ? { ...countries[id] } : null;\n  return isString(property) ? getProperty(country, property) : country;\n}\n\nfunction initCache() {\n  countries = Object.keys(data).reduce((result, id) => {\n    return Object.assign(result, { [id]: null });\n  }, {});\n}\n\nfunction memoizeCountry(country) {\n  if (!country) return;\n  countries[country.id] = country;\n  memoizedCountries = Object.values(countries).filter(c => !!c).length;\n}\n\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n\nfunction getProperty(obj, property = '') {\n  const paths = String(property).split('.');\n  return paths.reduce((result, path) => {\n    return (result || {})[path] || null;\n  }, obj);\n}\n\nmodule.exports = {\n  getCountry,\n  getAllCountries\n};\n"],"names":["get","obj","property","countries","id","name","officialName","emoji","emojiUnicode","iso2","iso3","isoNumeric","geonameId","continentId","population","elevation","areaSqKm","coordinates","latitude","c","longitude","timezones","domain","currencyCode","currencyName","postalCodeFormat","postalCodeRegex","phoneCode","neighborCountryIds","languages","locales","totalCountries","Object","keys","data","length","memoizedCountries","getCountry","reduce","result","assign","country","values","filter","memoizeCountry","buildCountry","str","String","split","path","getProperty","getAllCountries","forEach"],"mappings":"g9hFAkCA,SAASA,EAAIC,EAAKC,EAAlB,UACUD,GAAO,IAAIC,kCADrB,EAAA,EAAkC,MAIlC,ICnCIC,IDHJ,SAAsBF,UACfA,EAEE,CACLG,GAAIJ,EAAIC,EAAK,MACbI,KAAML,EAAIC,EAAK,KACfK,aAAcN,EAAIC,EAAK,MACvBM,MAAOP,EAAIC,EAAK,KAChBO,aAAcR,EAAIC,EAAK,MACvBQ,KAAMT,EAAIC,EAAK,MACfS,KAAMV,EAAIC,EAAK,MACfU,WAAYX,EAAIC,EAAK,MACrBW,UAAWZ,EAAIC,EAAK,MACpBY,YAAab,EAAIC,EAAK,MACtBa,WAAYd,EAAIC,EAAK,KACrBc,UAAWf,EAAIC,EAAK,KACpBe,SAAUhB,EAAIC,EAAK,KACnBgB,YAAa,CACXC,SAAUlB,EAAIC,EAAIkB,EAAG,KACrBC,UAAWpB,EAAIC,EAAIkB,EAAG,MAExBE,UAAWrB,EAAIC,EAAK,IAAK,IACzBqB,OAAQtB,EAAIC,EAAK,KACjBsB,aAAcvB,EAAIC,EAAK,MACvBuB,aAAcxB,EAAIC,EAAK,MACvBwB,iBAAkBzB,EAAIC,EAAK,MAC3ByB,gBAAiB1B,EAAIC,EAAK,MAC1B0B,UAAW3B,EAAIC,EAAK,MACpB2B,mBAAoB5B,EAAIC,EAAK,KAAM,IACnC4B,UAAW7B,EAAIC,EAAK,KAAM,IAC1B6B,QAAS9B,EAAIC,EAAK,KAAM,KA7BT,MCCb8B,EAAiBC,OAAOC,KAAKC,GAAMC,OAErCC,EAAoB,EAOxB,SAASC,EAAWjC,EAAIF,IAQtBC,EAPKA,GAOO6B,OAAOC,KAAKC,GAAMI,OAAO,SAACC,EAAQnC,UACrC4B,OAAOQ,OAAOD,OAAWnC,EAAK,QACpC,KARYA,IAWjB,SAAwBqC,OACjBA,EAAS,OACdtC,EAAUsC,EAAQrC,IAAMqC,EACxBL,EAAoBJ,OAAOU,OAAOvC,GAAWwC,OAAO,SAAAxB,WAAOA,IAAGgB,OAd1CS,CAAeC,EAAaX,EAAK9B,SAiBrC0C,EAhBVL,EAAUtC,EAAUC,QAAWD,EAAUC,IAAQ,WAiBjC,iBADN0C,EAfA5C,IAgBkB4C,aAAeC,OAGnD,SAAqB9C,OAAKC,yDAAW,UACrB6C,OAAO7C,GAAU8C,MAAM,KACxBV,OAAO,SAACC,EAAQU,UACnBV,GAAU,IAAIU,IAAS,MAC9BhD,GAvByBiD,CAAYT,EAASvC,GAAYuC,QA0B9C,CACfJ,WAAAA,EACAc,gBArCF,kBACMpB,IAAmBK,GAAmBJ,OAAOC,KAAKC,GAAMkB,QAAQf,QACxDlC"}